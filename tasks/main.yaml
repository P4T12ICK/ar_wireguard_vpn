---
# Entry point for WireGuard VPN role
# Use wireguard_action variable to control which tasks to run:
#   - 'deploy' (default): Deploy and configure WireGuard server
#   - 'get_config': Retrieve and display client configuration files

- name: Include deploy tasks
  ansible.builtin.include_tasks: deploy.yaml
  when: wireguard_action == 'deploy' or wireguard_action is not defined

- name: Include get config tasks
  ansible.builtin.include_tasks: get_config.yaml
  when: wireguard_action == 'get_config'
